<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"/>
    <title>天下VPN</title>
    <link rel="stylesheet" type="text/css" href="../static/css/normalize.css"/><!--CSS RESET-->
    <!--Material Design Iconic Font-->
    <link rel="stylesheet" href="../static/material-design/css/material-design-iconic-font.css"/>
    <!--jSide Menu CSS-->
    <link rel="stylesheet" href="../static/css/jside-menu.css"/>
    <link rel="stylesheet" href="../static/css/htmleaf-demo.css"/>
    <!--jSide Skins-->
    <link rel="stylesheet" href="../static/css/jside-skins.css"/>
    <link rel="stylesheet" href="../static/css/demo-only.css"/>

</head>
<style>

    .tc h3 {
        color: black;
        text-align: center;
        padding-top: 5px;
        line-height: 10px;
    }

    .tc h2 {
        color: orangered;
        text-align: center;
        line-height: 3px;
    }
    .yhqBtn{
        width: 20%;
        height: auto;
        background-color: #0665d0;
        color: white;
        outline: none;
        border-radius: 5%;
        border: 0;
        margin-left: 75%;
        font-size: 17px;
    }
    main article h4 span {
        color: white;
    }
    main article h4 strong {
        color: white;
    }
    main article h1 {
        color: white;
    }
    .xdBtn{
        background-color: #0665d0;
        width: 100%;
        height: auto;
        color: white;
        outline: none;
        border: 0;
        font-size: 20px;
        border-radius: 3px;
        line-height: 45px;
    }
    .fkLx{
        border-radius: 5px;
        border: 0;
        background-color: white;
        color: black;
        outline: none;
        width: 100%;
    }
</style>
<body>
<menu class="menubar">
    <menuitem>
        <button class="menu-trigger"></button>
    </menuitem>

    <menuitem class="logo" title="Your Logo Goes Here">
        <h6>天下数据</h6>
    </menuitem>
</menu>


<div class="menu-head">
	   <span class="layer">
	<div class="col">
	  <div class="row for-pic">
	   <div class="profile-pic">
	   <img src="../static/image/asif-mughal.jpg" alt="Asif Mughal"/>
	         </div>
	  </div>
	         <div class="row for-name">
	   <h3 title="User Name"> 售后问题反馈 </h3>
	        <span class="tagline"> kangoShy@gmail.com </span>
	          </div>
	         </div> <!--//col-->
	  </span>
</div> <!--//menu-head-->

<nav class="menu-container">

    <ul class="menu-items">

        <li><span class="item-icon"> <i class="zmdi zmdi-tv"></i> </span> <a href="/toIndex">
            首页 </a></li>

        <li><span class="item-icon"><i class="zmdi zmdi-android"></i></span> <a href="/androidCourse">
            Android 使用教程 </a></li>

        <li><span class="item-icon"> <i class="zmdi zmdi-apple"></i> </span> <a href="/iosCourse">
            IOS 使用教程 </a></li>

        <li class="has-sub"><span class="item-icon"> <i class="zmdi zmdi-windows"></i> </span>
            <a href="/windowsCourse">Windows 使用教程</a></li>

        <li class="has-sub"><span class="item-icon"> <i class="zmdi zmdi-devices"></i> </span>
            <a href="/macCourse">Mac 使用教程</a></li>


        <li><span class="item-icon"> <i class="zmdi zmdi-keyboard"></i> </span> <a href="#1">
            操作指南 </a></li>

        <li><span class="item-icon"> <i class="zmdi zmdi-dock"></i> </span> <a href="#1">
            关于我们 </a></li>


        <li><span class="item-icon"> <i class="zmdi zmdi-mouse"></i> </span> <a href="/customerService">
            联系客服 </a></li>

    </ul>


</nav>
<div class="dim-overlay"></div>

<!--End jSide Menu-->
<!--Introduction and Demo Only -->
<br><br>
<header class="intro">
    <!--<h1>jquery滑动侧边栏插件jSide</h1>
    <div class="htmleaf-links">
      <a class="htmleaf-icon icon-htmleaf-home-outline" href="http://www.htmleaf.com/" title="jQuery之家" target="_blank"><span> jQuery之家</span></a>
      <a class="htmleaf-icon icon-htmleaf-arrow-forward-outline" href="http://www.htmleaf.com/jQuery/Menu-Navigation/201810195376.html" title="返回下载页" target="_blank"><span> 返回下载页</span></a>
  </div>
    <p>
     jSide Menu is a well designed, simple and clean side navigation menu with dropdowns.
       <br />
       <br />
<b> Written in:</b><i> HTML, CSS, JS</i><br>
        <b> Frameworks: </b> <i>  jQuery 3.3.1 &amp; Material-Design-Iconic-Font 2.0  </i>
    </p>-->
</header>

<main>
    <article>
        <h3 th:text="${comboPO.comboName}"></h3>
        <h4 style="padding: 5px" th:text="${comboPO.getComboDescribe()}"></h4>
    </article>
</main>

<main>
    <article>
        <button th:onclick="'javascript:toChagePrice('+${comboPO.getComboPrice}+',1)' "  class="fkLx">月付 <span th:text="${comboPO.getComboPrice()}"></span>/<span th:text="${comboPO.getComboUnit()}"></span></button>
    </article>
</main>
<main>
    <article>
        <button th:onclick="'javascript:toChagePrice('+${comboPO.getComboPriceQuarter}+',2)' " class="fkLx">季付 <span th:text="${comboPO.getComboPriceQuarter()}"></span>/<span th:text="${comboPO.getComboUnit()}"></span></button>
    </article>
</main>
<main>
    <article>
        <button th:onclick="'javascript:toChagePrice('+${comboPO.getComboPriceHalfYear}+',3)' " class="fkLx">半年付 <span th:text="${comboPO.getComboPriceHalfYear()}"></span>/<span th:text="${comboPO.getComboUnit()}"></span></button>
    </article>
</main>
<main>
    <article>
        <button th:onclick="'javascript:toChagePrice('+${comboPO.getComboPriceYear}+',4)' " class="fkLx">年付 <span th:text="${comboPO.getComboPriceYear()}"></span>/<span th:text="${comboPO.getComboUnit()}"></span></button>
    </article>
</main>

<main style="background: rgb(52 55 60);color: white">
    <article>
        <div>
            <strong>您有一张优惠券可减15元！</strong>
            <button class="yhqBtn">去使用</button>
        </div>
    </article>
</main>

<main style="background: rgb(52 55 60);color: white">
    <article>
        <h4><strong>订单总额</strong></h4>
        <h4><span th:text="${comboPO.comboName}"></span> x <span id="pjfkfs">月付</span></h4>
        <hr/>
        <br>
        <h3 style="color: #8183a8">总计</h3>
        <h1>￥<span id="zjje" th:text="${comboPO.comboPrice}"></span>.00 CNY</h1>
        <button th:onclick="placeOrder([[${comboPO.getId()}]],[[${comboPO.comboName}]])" class="xdBtn">下单</button>
    </article>
</main>

<script src="../static/js/jquery-1.11.0.min.js" type="text/javascript"></script>
<script src="../static/js/jquery.jside.menu.js"></script>
<script src="../static/js/demo-only.js"></script>
<script>
    $(document).ready(function () {

        $(".menu-container").jSideMenu({
            jSidePosition: "position-left", //possible options position-left or position-right

            jSideSticky: true, // menubar will be fixed on top, false to set static

            jSideSkin: "default-skin", // to apply custom skin, just put its name in this string
        });
    });

    window.onload=function(){

    };

    function toChagePrice(x, val){
        $("#zjje").html(x);
        let v;
        if (val === 1) {
            v = "月付";
        }else if (val === 2){
            v = "季付";
        }else if(val === 3) {
            v = "半年付";
        }else{
            v = "年付";
        }
        $("#pjfkfs").html(v);
    }

    function placeOrder(id, name) {
        let value = document.getElementById("zjje").innerText;
        let type = document.getElementById("pjfkfs").innerText;
        $.ajax({
            url:'/vpn/placeTheOrder',
            type: 'POST',
            dataType:'json',
            contentType: 'application/json; charset=UTF-8',
            data:JSON.stringify({'comboId':id, 'comboName': name, 'price': value, 'type': type}),
            success:function(res) {
                let data = res.data;
                let comboName = data.comboName;
                let comboType = data.comboType;
                let orderId = data.orderId;
                let price = data.orderPrice;
                let time = data.createTime;
                window.location.href = "/creatOrder?comboName=" + comboName + "&comboType=" + comboType + "&orderId=" + orderId + "&time=" + time + "&price=" + price;
            }
        })
    }
</script>
</body>
</html>